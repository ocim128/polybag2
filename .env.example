# Required: Polymarket private key
# How to get it: log in at https://reveal.magic.link/polymarket and export your key
POLYMARKET_PRIVATE_KEY=

# Proxy wallet address (required for Email/Magic login flow)
# Use the address shown in Builder Settings
POLYMARKET_PROXY_ADDRESS=


# Merge requires Builder keys (from Builder Settings)
POLY_BUILDER_API_KEY=
POLY_BUILDER_SECRET=
POLY_BUILDER_PASSPHRASE=


# Market discovery config (optional, defaults available): bitcoin,ethereum,solana,xrp
CRYPTO_SYMBOLS=btc      # Symbols to monitor
MARKET_REFRESH_ADVANCE_SECS=5       # Query lead time in seconds

# Trading config (optional, defaults available)
MIN_PROFIT_THRESHOLD=0.001          # Minimum profit threshold (0.1%)
MAX_ORDER_SIZE_USDC=5.0           # Maximum single order size (USDC)

# Arbitrage execution spread: execute when yes+no <= 1 - spread
ARBITRAGE_EXECUTION_SPREAD=0.02

MIN_YES_PRICE_THRESHOLD=0.0 # Example: execute only if YES price >= 0.5
MIN_NO_PRICE_THRESHOLD=0.0  # Example: execute only if NO price >= 0.35

# Slippage [first, second]: second for down side only, first for up and flat, e.g. "-0.02,0.0"
SLIPPAGE=0.0,0.0


# Arbitrage order type: GTC | GTD | FOK | FAK (default GTD)
ARBITRAGE_ORDER_TYPE=GTC
# GTD expiration in seconds, default is 300 seconds (5 minutes)
GTD_EXPIRATION_SECS=3600

# Risk management config (optional, defaults available)
RISK_MAX_EXPOSURE_USDC=50       # Maximum exposure per cycle (USDC)
RISK_IMBALANCE_THRESHOLD=0.1        # Position imbalance threshold (10%)
HEDGE_TAKE_PROFIT_PCT=0.2  # 20% take-profit
HEDGE_STOP_LOSS_PCT=0.5    # 20% stop-loss
RUST_LOG=debug


# Stop arbitrage N minutes before market end, default 0 (disabled)
STOP_ARBITRAGE_BEFORE_END_MINUTES=3

# Wind down before window end: trigger wind down (cancel orders -> merge -> sell remaining)
# when this many minutes remain in the current 5-minute window. 0 = disabled.
WIND_DOWN_BEFORE_WINDOW_END_MINUTES=1
# Limit price for single-leg sell during wind down, default 0.01
WIND_DOWN_SELL_PRICE=0.01

# Scheduled merge interval in minutes. 0 = disabled.
# CONDITION_ID is sourced from the current window order book markets.
MERGE_INTERVAL_MINUTES=1


# Position sync config
# Position sync interval (seconds)
POSITION_SYNC_INTERVAL_SECS=0
# Position balance check interval (seconds)
POSITION_BALANCE_INTERVAL_SECS=0
# Imbalance threshold
POSITION_BALANCE_THRESHOLD=99999.0
# Minimum total position requirement
POSITION_BALANCE_MIN_TOTAL=5.0

# --- Security hardening for merge endpoints ---
# Optional relayer override. Default: https://relayer-v2.polymarket.com
RELAYER_URL=https://relayer-v2.polymarket.com
# Security override (NOT recommended): allow non-allowlisted RPC/relayer endpoints.
# Default secure behavior is strict allowlist and https-only.
MERGE_ALLOW_UNSAFE_ENDPOINTS=0
